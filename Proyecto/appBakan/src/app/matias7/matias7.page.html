<ion-header translucent="true">
  <ion-toolbar>
    <ion-title>Dashboard</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen>
  <div class="page">
    <h1 class="page-title">Panel principal</h1>

    <!-- KPIs -->
    <ion-grid class="kpi-grid">
      <ion-row>
        <ion-col size="6" sizeMd="3">
          <ion-card class="card kpi-card">
            <ion-card-content>
              <div class="kpi">
                <div>
                  <div class="kpi-label">Atenciones hoy</div>
                  <div class="kpi-value">{{ kpis.hoy }}</div>
                </div>
                <ion-icon name="flash-outline"></ion-icon>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <ion-col size="6" sizeMd="3">
          <ion-card class="card kpi-card">
            <ion-card-content>
              <div class="kpi">
                <div>
                  <div class="kpi-label">Esta semana</div>
                  <div class="kpi-value">{{ kpis.semana }}</div>
                </div>
                <ion-icon name="calendar-outline"></ion-icon>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <ion-col size="12" sizeMd="3">
          <ion-card class="card kpi-card">
            <ion-card-content>
              <div class="kpi">
                <div>
                  <div class="kpi-label">Dx más frecuente</div>
                  <div class="kpi-value small">{{ kpis.topDx }}</div>
                </div>
                <ion-icon name="pulse-outline"></ion-icon>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <ion-col size="12" sizeMd="3">
          <ion-card class="card kpi-card">
            <ion-card-content>
              <div class="kpi">
                <div>
                  <div class="kpi-label">Último reporte</div>
                  <div class="kpi-value small">{{ kpis.ultimo }}</div>
                </div>
                <ion-icon name="document-text-outline"></ion-icon>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>

    <!-- Actividad reciente -->
    <ion-card class="section card">
      <ion-card-header>
        <ion-card-title>Actividad reciente</ion-card-title>
        <ion-card-subtitle class="k">Últimos ingresos de historial y reportes</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <ion-list lines="full">
          <ion-item class="item" *ngFor="let a of actividadReciente">
            <ion-label>
              <h2>{{ a.titulo }}</h2>
              <p class="k">{{ a.subtitulo }}</p>
              <p *ngIf="a.detalle">{{ a.detalle }}</p>
            </ion-label>
          </ion-item>
          <ion-item class="item" *ngIf="actividadReciente.length === 0">
            <ion-label class="k">Aún no hay actividad registrada.</ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <!-- Accesos rápidos -->
    <ion-grid class="grid-cards">
      <ion-row>
        <ion-col size="6" sizeMd="3">
          <ion-card button [routerLink]="['/matias2']">
            <ion-card-content class="ion-text-center">
              <ion-icon name="search-outline"></ion-icon><br>
              Buscar paciente
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="6" sizeMd="3">
          <ion-card button [routerLink]="['/matias3']">
            <ion-card-content class="ion-text-center">
              <ion-icon name="clipboard-outline"></ion-icon><br>
              Ficha
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="6" sizeMd="3">
          <ion-card button [routerLink]="['/matias4']">
            <ion-card-content class="ion-text-center">
              <ion-icon name="medkit-outline"></ion-icon><br>
              Medicamentos
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="6" sizeMd="3">
          <ion-card button [routerLink]="['/matias5']">
            <ion-card-content class="ion-text-center">
              <ion-icon name="document-text-outline"></ion-icon><br>
              Reporte
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12">
          <ion-card button [routerLink]="['/matias6']">
            <ion-card-content class="ion-text-center">
              <ion-icon name="time-outline"></ion-icon><br>
              Historial
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
